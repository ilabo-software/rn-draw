{"version":3,"names":["width","screenWidth","height","screenHeight","Dimensions","get","generateSVGPath","path","simplifyOptions","createSVGPath","simplifyPaths","amount","roundPoints","generateSVGPaths","paths","map","i","data","reduce","acc","Canvas","forwardRef","ref","color","DEFAULT_BRUSH_COLOR","thickness","DEFAULT_THICKNESS","opacity","DEFAULT_OPACITY","initialPaths","style","onPathsChange","eraserSize","DEFAULT_ERASER_SIZE","tool","DEFAULT_TOOL","combineWithLatestPath","enabled","simplifyCurrentPath","setPaths","useState","setPath","canvasContainerStyles","styles","canvas","addPointToPath","x","y","prev","Math","floor","undo","list","p","index","length","slice","clear","getPaths","addPath","newPath","getSvg","serializePath","d","stroke","strokeWidth","strokeOpacity","separatePaths","innerPath","combinedPath","join","serializedPaths","combine","useImperativeHandle","useEffect","panGesture","Gesture","Pan","runOnJS","onChange","DrawingTool","Brush","Eraser","prevPaths","filteredDataPaths","acc2","closeToPath","some","x1","y1","abs","onBegin","onEnd","newSVGPath","lastPath","minPointers","minDistance","averageTouches","hitSlop","top","left","shouldCancelWhenOutside","SVGRenderer","StyleSheet","create","backgroundColor","canvasOverlay","position"],"sourceRoot":"../../src","sources":["Canvas.tsx"],"mappings":"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"}