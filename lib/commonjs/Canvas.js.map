{"version":3,"names":["Canvas","forwardRef","ref","color","DEFAULT_BRUSH_COLOR","thickness","DEFAULT_THICKNESS","opacity","DEFAULT_OPACITY","filled","cap","DEFAULT_STROKE_CAP","join","DEFAULT_STROKE_JOIN","initialPaths","style","height","width","eraserSize","DEFAULT_ERASER_SIZE","tool","DEFAULT_TOOL","onPathsChange","backgroundColor","DEFAULT_CANVAS_BACKGROUND_COLOR","debug","shareStrokeProperties","touchDisabled","prevPointRef","useRef","skiaViewRef","paths","useMemo","convertCorePathsToSkiaPaths","pathPaint","p","Skia","Paint","setPaint","eraserPoint","x","y","erasing","canvasPaint","setColor","Color","eraserPaint","setStyle","PaintStyle","Fill","undo","useCallback","length","Math","max","current","redraw","clear","getPaths","convertInnerPathsToStandardPaths","addPath","path","push","convertCorePathToSkiaPath","addPaths","corePaths","setPaths","splice","getSvg","getSvgHelper","useImperativeHandle","erasingPaths","reversedPaths","reverse","forEach","index","contains","touchHandler","useTouchHandler","onStart","DrawingTool","Eraser","Path","Make","setIsVolatile","paint","Stroke","data","moveTo","onActive","drawPoint","onEnd","onDraw","useDrawCallback","canvas","info","touches","drawPath","drawCircle","useEffect","styles","skia","StyleSheet","create","flex","overflow"],"sourceRoot":"../../src","sources":["Canvas.tsx"],"mappings":"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"}