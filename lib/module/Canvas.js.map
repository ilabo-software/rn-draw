{"version":3,"names":["React","forwardRef","useEffect","useImperativeHandle","useState","Animated","Dimensions","StyleSheet","View","Gesture","GestureDetector","GestureHandlerRootView","DEFAULT_BRUSH_COLOR","DEFAULT_ERASER_SIZE","DEFAULT_OPACITY","DEFAULT_THICKNESS","DEFAULT_TOOL","DrawingTool","createSVGPath","SVGRenderer","RendererHelper","width","screenWidth","height","screenHeight","get","generateSVGPath","path","simplifyOptions","simplifyPaths","amount","roundPoints","generateSVGPaths","paths","map","i","data","reduce","acc","Canvas","ref","color","thickness","opacity","initialPaths","style","onPathsChange","eraserSize","tool","combineWithLatestPath","enabled","simplifyCurrentPath","setPaths","setPath","canvasContainerStyles","styles","canvas","addPointToPath","x","y","prev","Math","floor","undo","list","p","index","length","slice","clear","getPaths","addPath","newPath","getSvg","serializePath","d","stroke","strokeWidth","strokeOpacity","separatePaths","innerPath","combinedPath","join","serializedPaths","combine","panGesture","Pan","runOnJS","onChange","Brush","Eraser","prevPaths","filteredDataPaths","acc2","closeToPath","some","x1","y1","abs","onBegin","onEnd","newSVGPath","lastPath","minPointers","minDistance","averageTouches","hitSlop","top","left","shouldCancelWhenOutside","create","backgroundColor","canvasOverlay","position"],"sourceRoot":"../../src","sources":["Canvas.tsx"],"mappings":"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"}